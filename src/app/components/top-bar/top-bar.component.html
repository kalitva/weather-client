<header class="top-bar-fixed">
  <div class="top-bar">
    <div [ngClass]="{'spin': !loading}">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">
        <path fill="#fff" d="m14.92 22.84-5.639-8.121L1.16 9.08l21.5-7.741zM5.485 9.648l5.234 3.633 3.633 5.234 4.987-13.854z"/>
      </svg>
    </div>
    <h2 class="location">
      <p *ngIf="!showForm">{{ city }}</p>
      <input
          #input_city
          id="input-city"
          class="input-city"
          *ngIf="showForm"
          (keydown.enter)="navigateToCity(input_city.value)"
          (keydown.escape)="showForm=false"
      />
      <div>
        <span class="time">{{ time }}</span>
        <span class="timezone">{{ timezone }}</span>
      </div>
    </h2>
    <label class="another-city" for="input-city" [ngClass]="{'blinked': showError}" (click)="showForm=!showForm">another city</label>
    <div *ngIf="showError" class="error">
      <span class="close" (click)="showError=false">X</span>
      <p>Oops! An error occured trying to detect your city:</p>
      <p class="message"> {{ errorMessage }} </p>
      <p>Please, press 'another city' and type the city name you need</p>
    </div>
  </div>
</header>
